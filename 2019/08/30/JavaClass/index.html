<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=6.7.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.7.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.7.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.7.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="I. Inheritancekeyword: extends Subclass extends the superclass, it can inherit the members of superclass.Private members cannot be inherited.Subclass can add new methods and instance variables of its">
<meta name="keywords" content="java">
<meta property="og:type" content="article">
<meta property="og:title" content="Java II - Four Pillar">
<meta property="og:url" content="http://yoursite.com/2019/08/30/JavaClass/index.html">
<meta property="og:site_name" content="Secret Garden">
<meta property="og:description" content="I. Inheritancekeyword: extends Subclass extends the superclass, it can inherit the members of superclass.Private members cannot be inherited.Subclass can add new methods and instance variables of its">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2019-10-09T18:13:16.689Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java II - Four Pillar">
<meta name="twitter:description" content="I. Inheritancekeyword: extends Subclass extends the superclass, it can inherit the members of superclass.Private members cannot be inherited.Subclass can add new methods and instance variables of its">






  <link rel="canonical" href="http://yoursite.com/2019/08/30/JavaClass/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Java II - Four Pillar | Secret Garden</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Secret Garden</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">a Hogwarts student</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>Search</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/30/JavaClass/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Annie Hu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Secret Garden">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Java II - Four Pillar

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-08-30 11:35:12" itemprop="dateCreated datePublished" datetime="2019-08-30T11:35:12-05:00">2019-08-30</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-10-09 13:13:16" itemprop="dateModified" datetime="2019-10-09T13:13:16-05:00">2019-10-09</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="I-Inheritance"><a href="#I-Inheritance" class="headerlink" title="I. Inheritance"></a>I. Inheritance</h3><p>keyword: <strong>extends</strong></p>
<p>Subclass extends the superclass, it can inherit the members of superclass.<br>Private members cannot be inherited.<br>Subclass can add new methods and instance variables of its own, it can override the methods it inherits from.  </p>
<p>Def. The members of a class include the variables and methods in the class + anything inherited from a superclass.</p>
<p>Java does not support multiple inheritance using classes, one class can only extend one class but can implement multiple interfaces.(Because of Deadly Diamond of Death problem)</p>
<p>Example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">  makeNoise();</span><br><span class="line">  eat();</span><br><span class="line">  sleep();</span><br><span class="line">  roam();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Canine</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">  roam();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Wolf</span> <span class="keyword">extends</span> <span class="title">Canine</span></span>&#123;</span><br><span class="line">  makeNoise();</span><br><span class="line">  eat();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Wolf w = <span class="keyword">new</span> Wolf();</span><br><span class="line">w.makeNoise(); <span class="comment">//调用的是Wolf class里的</span></span><br><span class="line">w.roam(); <span class="comment">//调用的是Canine里的</span></span><br><span class="line">w.eat(); <span class="comment">//调用的是Wolf class里的</span></span><br><span class="line">w.sleep(); <span class="comment">//调用的是Animal里的</span></span><br></pre></td></tr></table></figure>
<p>The lowest one wins! JVM starts look first in the wolf class. If it doesn’t find, it will walk back up the inheritance hierarchy until it finds a match.</p>
<p>One of the advantages of inheritance is when you only change the code in superclass, the subclasses don’t have to be compiled in order to use the new version of the superclass. So put common code in one place, when you want to change that behavior, you can modify it in only one place, and everybody else can see that change.</p>
<h4 id="class"><a href="#class" class="headerlink" title="class"></a>class</h4><p>Three ways to prevent a class from being subclassed:</p>
<ul>
<li>access control<br><strong>A class can’t be marked as private</strong>. Inner class is the class as a member of other class, <strong>the inner class can be made private</strong>.</li>
<li>final<br>A final class cannot be inherited, it is the end of inheritance line.</li>
<li>has only private constructors, which also makes the class cannot be substantiated.</li>
</ul>
<h4 id="keyword-super"><a href="#keyword-super" class="headerlink" title="keyword - super"></a>keyword - super</h4><p>If don’t want to completely override the superclass method, just want to add more stuff, use keyword super by using super.xxxmethodName().<br>Eg.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">roam</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">super</span>.roam(); <span class="comment">//first calls the inherited version of roam</span></span><br><span class="line">  <span class="comment">//my own roam stuff //then come back to do my own code</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Is-A-Has-A"><a href="#Is-A-Has-A" class="headerlink" title="Is-A, Has-A"></a>Is-A, Has-A</h4><p>1)Is-A (one direction)<br>X extends Y, then X is-A Y.<br>Eg. Trangle is-A Shape.</p>
<p>2)Has-A<br>X has-A Y, means X has a reference to Y, but X does not extend Y, and vice-versa.<br>Eg. Bathroom has-A Tub.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bathroom</span> </span>&#123;</span><br><span class="line">  Tub bathtub;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tub</span> </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Design-with-Inheritance"><a href="#Design-with-Inheritance" class="headerlink" title="Design with Inheritance"></a>Design with Inheritance</h4><p>1)Follow two rules: IS-A and HAS-A!!! Use IS-A to verify your inheritance hierarchy!</p>
<p>Reusable code can be extracted and put in a class.<br>Eg. The printing code should be in a class Printer. All printable objects can take advantage of via a HAS-A relation.</p>
<p>2)It makes sense to keep inheritance tree shallow.</p>
<p><br></p>
<h3 id="II-Polymorphism"><a href="#II-Polymorphism" class="headerlink" title="II. Polymorphism"></a>II. Polymorphism</h3><p>先回顾一下the way declare a reference and create an object:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Dog myHusky = <span class="keyword">new</span> Dog();</span><br></pre></td></tr></table></figure>
<ul>
<li>JVM allocates a reference variable named myHusky</li>
<li>JVM allocates a space in heap for a new Dog object</li>
<li>Assign this new object to variable.</li>
</ul>
<p><strong>With Polymorphism</strong>:<br>1)the reference type and object can be different</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Animal myHusky = <span class="keyword">new</span> Dog();</span><br></pre></td></tr></table></figure>
<p><strong>The reference type can be a superclass of the actual object type!!!</strong><br>也就是说可以把子类的object赋值给reference type为父类的变量，即使父类是abstract class！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Superclass variable = <span class="keyword">new</span> Subclass object;</span><br></pre></td></tr></table></figure>
<p>Eg:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Animal[] animals = <span class="keyword">new</span> Animal[<span class="number">3</span>];</span><br><span class="line">animals[<span class="number">0</span>] = <span class="keyword">new</span> Dog();</span><br><span class="line">animals[<span class="number">1</span>] = <span class="keyword">new</span> Cat();</span><br><span class="line">animals[<span class="number">2</span>] = <span class="keyword">new</span> Wolf();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)&#123;</span><br><span class="line">  animals[i].eat();</span><br><span class="line">  animals[i].roam();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当i = 0时，get the dog’s eat(); 当i = 1时，get the cat’s eat().</p>
<p>2)<strong>Have polymorphic arguments and return types!</strong></p>
<p>Eg.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Vet兽医</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Vet</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">command</span><span class="params">(Animal a)</span> </span>&#123;</span><br><span class="line">    a.makeNoise();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PetOwner</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Vet v = <span class="keyword">new</span> Vet();</span><br><span class="line"></span><br><span class="line">    Dog d = <span class="keyword">new</span> Dog();</span><br><span class="line">    Cat c = <span class="keyword">new</span> Cat();</span><br><span class="line"></span><br><span class="line">    v.command(d); <span class="comment">//Dog's makeNoise() works</span></span><br><span class="line">    v.command(c); <span class="comment">//Cat's makeNoise() works</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>command() 接收的是一个Animal type的argument。<br>As long as the argument you pass in is a subclass of Animal, it will work.</p>
<p>Can write code that doesn’t have to change when introducing new subclass types. Vet class is written without any knowledge of the new Animal subtypes.</p>
<p>也就是说如果把method arguments设为父类type，就可以传入子类object作为参数，包括return type也是。<strong>这个非常方便！！</strong></p>
<h3 id="III-万物之母Object"><a href="#III-万物之母Object" class="headerlink" title="III.万物之母Object"></a>III.万物之母Object</h3><p>Every class in Java extends class <strong>Object</strong>!!</p>
<p>Object class is a non-abstract class, because it’s got method implementation that all classes can inherit and use out-of-the-box.<br>The most use of instance of type Object is for thread synchronization.</p>
<p>Object class里常见的四个methods：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Class <span class="title">getClass</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function">String <span class="title">toString</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
<p>后面这三个methods经常被override。</p>
<p>虽然推荐polymorphic types, 但不能把所有的methods的argement和return type都设为Object type。例子见下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Dog a = <span class="keyword">new</span> Dog();</span><br><span class="line">Dog sameDog = getObject(a);<span class="comment">//这里会发生编译错误</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">getObject</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>分析：<br>getObject()函数返回的type是Object，而compiler不允许把return的内容赋值给其它非Object类型的类型！<br>简单点说就是，如果一个instance被一个类型为Object的变量所引用，那么这个instance就不能再被它的真实类型的变量所引用。</p>
<p>改成下面这样就可以通过编译了：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Dog a = <span class="keyword">new</span> Dog();</span><br><span class="line">Object sameDog = getObject(a);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">getObject</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><font size="4"><strong>Compiler decides whether a method can be called based on the reference type, not on the actual object type！！！</strong></font><br>举例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//假设一个list设定为hold Object-type的元素</span></span><br><span class="line"><span class="comment">//但是我们往里add的时候add的是Dog-type的instance</span></span><br><span class="line"><span class="comment">//但在compiler眼中，obj仍然是Object-type的instance。</span></span><br><span class="line">Object obj = list.get(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">int</span> num = obj.hashCode();</span><br><span class="line">obj.bark(); <span class="comment">//编译错误，因为Object class里没有bark()</span></span><br></pre></td></tr></table></figure>
<p>compiler不知道这是Dog类型的instance，即使放入list的时候是Dog-type instance.<br>我在想，为什么前面那个animal的例子就行，这个不行。是不是list.get(0)不要赋值给Object，而直接用list.get().bark就不会出错了呢。</p>
<h4 id="inner-object"><a href="#inner-object" class="headerlink" title="inner object"></a>inner object</h4><p>由于每个class都继承自Object，所以对象object contains everything it inheris from each of its superclass，所以每个object也是instance of Object.</p>
<p>比如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ButtonBoard bb = <span class="keyword">new</span> ButtonBoard();</span><br><span class="line">Object oo = bb;</span><br></pre></td></tr></table></figure>
<p>bb这个reference可以获取Object和ButtonBoard的所有accessible(通常指public) members。虽然oo也和bb一样，指向了同一个object，但是oo只能access Object里的members，不能获取到ButtonBoard里的独有members。原因见上面加粗字体。</p>
<h4 id="cast"><a href="#cast" class="headerlink" title="cast"></a>cast</h4><p>A reference variable of Object-type cannot be assigned to any other reference type without a cast.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Dog d = (Dog) list.get(<span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<p>A cast can be used to assign a reference variable of one type to a reference variable of subtype. 就是说借助cast，可以把父类type的obj赋值给其子类type的变量。</p>
<h3 id="IV-Interface"><a href="#IV-Interface" class="headerlink" title="IV. Interface"></a>IV. Interface</h3><p>keywords: interface, implements</p>
<p>interface里所有的methods都是默认abstract and public，可以不写出来。<br>interface也可以inherit one or more interfaces, 用<strong>extends</strong> keyword.</p>
<p>class implements interface, interface extends interface.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">A</span> </span>&#123;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="keyword">implements</span> <span class="title">A</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="V-How-to-choose-class-subclass-abstract-class-interface"><a href="#V-How-to-choose-class-subclass-abstract-class-interface" class="headerlink" title="V. How to choose class, subclass, abstract class, interface?"></a>V. How to choose class, subclass, abstract class, interface?</h3><ol>
<li><p>If your class doesn’t pass IS-A test for any other classes, choose CLASS.</p>
</li>
<li><p>If you need to make a specific version of a class and need to override or add some new behaviors, choose SUBCLASS.</p>
</li>
<li><p>If you want to define a template for a group of subclasses, and you have at least some implementation code that all subclasses could use, or you don’t want a class to be instantiated, choose ABSTRACT CLASS.</p>
</li>
<li><p>If you want to define a role that other classes can play, regardless of where those classes are in the inheritance tree, choose INTERFACE.</p>
</li>
</ol>
<h3 id="VI-Life-of-an-Object"><a href="#VI-Life-of-an-Object" class="headerlink" title="VI.Life of an Object"></a>VI.Life of an Object</h3><p><strong>1.Defintion</strong></p>
<ul>
<li>Instance variables<br>declared inside a class but outside the method</li>
<li>Local variables<br>declared inside a method, including method parameters</li>
</ul>
<p><strong>2.Memory</strong><br>Two areas: objects live in heap; method invocations调用 and local variables live in stack.</p>
<p><strong>3.Constructor</strong><br>The only way to invoke a constructor is with the keyword new. Even abstract class has constructors.<br><strong>Constructors are not inherited.</strong></p>
<p>The compiler gets involved with constructor-making only if you don’t write any constructors. If you write a  constructor with arguments and you still need a constructor with no arguments, you need to build that no-arg constructor yourself.</p>
<p><strong>4.Constructor chain</strong><br>All instance variables from every class in the inheritance tree have to be declared and initialized, so when a constructor runs, it immediately calls its superclass constructor.</p>
<p>The superclass parts of an objects have to be fully-formed before the subclass parts can be constructed.</p>
<p>总结，父类的constructor先运行，然后是子类的</p>
<p><strong>5.super()</strong><br>A call to super() in the constructor puts the superclass constructor on the top of the stack, and it is the only way to call a super constructors. If the superclass has overloaded constructors, only the no-arg one is called.</p>
<p>If you don’t provide a constructor, the compiler will puts one like:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//this is a constructor</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ClassName</span><span class="params">(...)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">super</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>If you provide a constructor but without super(), the compiler will put a call to super() in each of your overloaded constructors. 即super()由compiler默认加上，如果父类里有多个constructor，compiler默认所call的super()调用的是没有参数的那个父类constructor。</p>
<p>super() can have arguments. Eg:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> String name;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Animal</span><span class="params">(String theName)</span> </span>&#123;</span><br><span class="line">    name = theName;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Dog</span> <span class="params">(String name)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//it sends the name up to the stack to the Animal constructor</span></span><br><span class="line">    <span class="keyword">super</span>(name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>6.this()</strong><br>如果有很多的constructors，这些constructors都有common part，如果在每一个constructor中都写上这个common code会比较麻烦。如果希望不管哪一个constructor第一个被invoke时，the real constructor is called to finish that common part, 就可以使用this().</p>
<p>this() and super() <strong>must be in the first line</strong>, so they cannot apprear in constructors at the same time.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mini</span> <span class="keyword">extends</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">  Color color;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Mini</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//calls the real constructor, the one has super()</span></span><br><span class="line">    <span class="keyword">this</span>(Color.RED);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//the real constructor</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Mini</span><span class="params">(Color c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">super</span>(<span class="string">"Mini"</span>);</span><br><span class="line">    color = c;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>7.life of variables</strong><br>A local variable lives only within the method it is declared in.<br>A instance variable lives as long as the object does.</p>
<p>For object:<br>If a reference variable stops pointing to an object, that object is eligible for GC, GC will destory some or all of this eligible objects to keep from running out of RAM.</p>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/java/" rel="tag"># java</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/08/27/System-Design-Notes4/" rel="next" title="System Design IV - MapReduce">
                <i class="fa fa-chevron-left"></i> System Design IV - MapReduce
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/08/30/JavaIII/" rel="prev" title="Java III - Risky & Collections & others">
                Java III - Risky & Collections & others <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Annie Hu</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">48</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                    
                      
                    
                    <span class="site-state-item-count">1</span>
                    <span class="site-state-item-name">categories</span>
                  
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">21</span>
                    <span class="site-state-item-name">tags</span>
                  
                </div>
              
            </nav>
          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#I-Inheritance"><span class="nav-number">1.</span> <span class="nav-text">I. Inheritance</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#class"><span class="nav-number">1.1.</span> <span class="nav-text">class</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#keyword-super"><span class="nav-number">1.2.</span> <span class="nav-text">keyword - super</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Is-A-Has-A"><span class="nav-number">1.3.</span> <span class="nav-text">Is-A, Has-A</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Design-with-Inheritance"><span class="nav-number">1.4.</span> <span class="nav-text">Design with Inheritance</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#II-Polymorphism"><span class="nav-number">2.</span> <span class="nav-text">II. Polymorphism</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#III-万物之母Object"><span class="nav-number">3.</span> <span class="nav-text">III.万物之母Object</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#inner-object"><span class="nav-number">3.1.</span> <span class="nav-text">inner object</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#cast"><span class="nav-number">3.2.</span> <span class="nav-text">cast</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IV-Interface"><span class="nav-number">4.</span> <span class="nav-text">IV. Interface</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#V-How-to-choose-class-subclass-abstract-class-interface"><span class="nav-number">5.</span> <span class="nav-text">V. How to choose class, subclass, abstract class, interface?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#VI-Life-of-an-Object"><span class="nav-number">6.</span> <span class="nav-text">VI.Life of an Object</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Annie Hu</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v6.7.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=6.7.0"></script>

  <script src="/js/src/motion.js?v=6.7.0"></script>



  
  


  <script src="/js/src/affix.js?v=6.7.0"></script>

  <script src="/js/src/schemes/pisces.js?v=6.7.0"></script>



  
  <script src="/js/src/scrollspy.js?v=6.7.0"></script>
<script src="/js/src/post-details.js?v=6.7.0"></script>



  


  <script src="/js/src/bootstrap.js?v=6.7.0"></script>



  


  


  

  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
